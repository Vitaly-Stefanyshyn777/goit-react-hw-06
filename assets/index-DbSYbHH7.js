import{j as e,r as d,a as C}from"./react-DEXAKnuT.js";import{c as F}from"./react-dom-D94UCd80.js";import{F as E,a as L,b as f,E as x}from"./formik-DK8uOHAA.js";import{c as q,a as b}from"./yup-C17nZn1I.js";import{u as h,a as P,P as R}from"./react-redux-3Huu_gVx.js";import{n as j}from"./nanoid-vcSNLBTf.js";import{c as S,a as w}from"./@reduxjs-CoJy1jWf.js";import{c as v}from"./reselect-NCCDNIWx.js";import{p as B,F as U,R as $,P as T,a as A,b as D,c as O,d as z,e as M,f as W}from"./redux-persist-nHwAQTjp.js";import"./hoist-non-react-statics-CuYXql3D.js";import"./react-is-8JwjhRSi.js";import"./scheduler-CzFDRTuY.js";import"./deepmerge-DhIoniG1.js";import"./lodash-es-dVqQl90_.js";import"./react-fast-compare-BEmwAo5I.js";import"./property-expr-DEi1ZLzV.js";import"./tiny-case-BJ7jYKNY.js";import"./toposort-BhSZ4xpk.js";import"./use-sync-external-store-CFsm8Wde.js";import"./redux-DITMfSWq.js";import"./immer-DqxjFn0G.js";import"./redux-thunk-ClJT1hhx.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function c(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=c(r);fetch(r.href,o)}})();const G={items:[]},g=S({name:"contacts",initialState:G,reducers:{addContact:(t,n)=>{t.items.push(n.payload)},deleteContact:(t,n)=>{t.items=t.items.filter(c=>c.id!==n.payload)}}}),{addContact:H,deleteContact:J}=g.actions,K=g.reducer,k=t=>t.contacts.items,V=t=>t.filters.name,Y=v([k,V],(t,n)=>{if(!n.trim())return t;const c=n.trim().toLowerCase();return t.filter(s=>s.name.toLowerCase().includes(c))}),Q="_contactForm_hqqho_1",X="_formBtn_hqqho_15",Z="_inputErr_hqqho_31",tt="_formInput_hqqho_35",a={contactForm:Q,formBtn:X,inputErr:Z,formInput:tt},et=q({name:b().min(3,"Minimum 3 characters").max(50,"Maximum 50 characters").required("Name is required"),number:b().matches(/^\+?[1-9]\d{1,14}$/,"Invalid phone number").required("Phone number is required")}),nt=()=>{const t=h(),n=(c,{resetForm:s})=>{t(H({id:j(),name:c.name.trim(),number:c.number.trim()})),s()};return e.jsx(E,{initialValues:{name:"",number:""},onSubmit:n,validationSchema:et,children:e.jsxs(L,{className:a.contactForm,children:[e.jsxs("label",{htmlFor:"name",className:a.label,children:["Name",e.jsx(f,{id:"name",className:a.formInput,name:"name",placeholder:"Enter name"}),e.jsx(x,{name:"name",component:"p",className:a.inputError})]}),e.jsxs("label",{htmlFor:"number",className:a.label,children:["Phone Number",e.jsx(f,{id:"number",className:a.formInput,name:"number",placeholder:"Enter phone number"}),e.jsx(x,{name:"number",component:"p",className:a.inputError})]}),e.jsx("button",{className:a.formBtn,type:"submit",children:"Add Contact"})]})})},rt="_contactItem_e582n_1",ct="_contactList_e582n_13",_={contactItem:rt,contactList:ct},ot="_contactCard_tbp18_1",st="_contactInfo_tbp18_18",at="_contactText_tbp18_23",it="_contactBtn_tbp18_29",l={contactCard:ot,contactInfo:st,contactText:at,contactBtn:it},mt=({user:t})=>{const n=h(),c=()=>{window.confirm(`Are you sure you want to delete contact ${t.name}?`)&&n(J(t.id))};return e.jsxs("div",{className:l.contactCard,children:[e.jsxs("div",{className:l.contactInfo,children:[e.jsxs("p",{className:l.contactText,children:[e.jsx("strong",{children:"Name:"})," ",t.name]}),e.jsxs("p",{className:l.contactText,children:[e.jsx("strong",{children:"Phone:"})," ",t.number]})]}),e.jsx("button",{className:l.contactBtn,type:"button",onClick:c,children:"Delete"})]})},lt=d.memo(mt),dt=()=>{const t=P(Y);return t.length?e.jsx("ul",{className:_.contactList,children:t.map(n=>e.jsx("li",{className:_.contactItem,children:e.jsx(lt,{user:n})},n.id))}):null},ut=C.memo(dt),pt="_serchWrap_1qrzc_1",ht="_serchInput_1qrzc_18",p={serchWrap:pt,serchInput:ht},ft={name:""},N=S({name:"filters",initialState:ft,reducers:{changeFilter:(t,n)=>{t.name=n.payload.trim().toLowerCase()}}}),xt=N.reducer,{changeFilter:bt}=N.actions,_t=()=>{const t=h(),n=d.useCallback(c=>{const s=c.target.value.trim().toLowerCase();t(bt(s))},[t]);return e.jsxs("div",{className:p.serchWrap,children:[e.jsx("label",{htmlFor:"search",className:p.label,children:"Find contact by name"}),e.jsx("input",{id:"search",className:p.serchInput,type:"text",placeholder:"Type to search...",onChange:n,"aria-label":"Search contacts"})]})},Ct=C.memo(_t),jt=[{id:"id-1",name:"Rosie Simpson",number:"459-12-56"},{id:"id-2",name:"Hermione Kline",number:"443-89-12"},{id:"id-3",name:"Eden Clements",number:"645-17-79"},{id:"id-4",name:"Annie Copeland",number:"227-91-26"}];function St(){const[t,n]=d.useState(()=>JSON.parse(window.localStorage.getItem("contactUser"))??jt),[c,s]=d.useState(""),r=t.filter(m=>m.name.toLowerCase().includes(c));d.useEffect(()=>{window.localStorage.setItem("contactUser",JSON.stringify(t))},[t]);const o=({values:m})=>{n(u=>[...u,{id:j(),...m}])},i=m=>{n(u=>u.filter(y=>y.id!==m))};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"pageTitle",children:"Phonebook"}),e.jsx(nt,{addContact:o}),e.jsx(Ct,{serchUser:c,setSerchUser:s}),e.jsx(ut,{userContacts:r,handleDeleteContactUser:i})]})}const gt={key:"contacts",version:1,storage:M},Nt=z(gt,K),I=w({reducer:{contacts:Nt,filters:xt},middleware:t=>t({serializableCheck:{ignoredActions:[U,$,T,A,D,O]}})}),It=B(I);F(document.getElementById("root")).render(e.jsx(R,{store:I,children:e.jsx(W,{loading:e.jsx("div",{children:"Loading..."}),persistor:It,children:e.jsx(St,{})})}));
